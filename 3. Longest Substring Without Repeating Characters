/**
 * 3. Longest Substring Without Repeating Characters
 * https://leetcode.com/problems/longest-substring-without-repeating-characters/
 * Difficulty: Medium
 *
 * Given a string `s`, find the length of the longest substring without repeating characters.
 */

Sol-1
var lengthOfLongestSubstring = function(s){
    let windowStart=0
    let maxLength=0
    const charFreq={}
    for(let windowEnd=0;windowEnd<s.length;windowEnd++){
        const endChar=s[windowEnd]
        charFreq[endChar]=(charFreq[endChar]||0)+1
        while(charFreq[endChar]>1){
            let startChar=s[windowStart]
            charFreq[startChar]--
            windowStart++
        }
        maxLength=Math.max(maxLength,windowEnd-windowStart+1)
    }
    return maxLength
}

Sol-2
var lengthOfLongestSubstring = function(s){
    const map={}
    let offset=0
    return s.split("").reduce((max,value,i)=>{
        offset=map[value]>=offset?map[value]+1:offset
        map[value]=i
        return Math.max(max,i-offset+1)
    },0)
}


Sol-3
var lengthOfLongestSubstring=function(s){
    let n=s.length
    let result=0
    for(let i=0;i<n;i++){
        let visited=Array(26).fill(false)
        for(let j=i;j<n;j++){
            if(visited[s.charCodeAt(j)-'a'.charCodeAt(0)]===true){
                break
            }else{
                result=Math.max(result,j-i+1)
                visited[s.charCodeAt(j)-'a'.charCodeAt(0)]=true
            }
        }
    }
    return result
}


Sol-4
var lengthOfLongestSubstring=function(s){
    if(s.length===0 || s.length===1){
        return s.length
    }
    let result=0
    let visited=new Array(26).fill(false)
    let left=0,right=0
    while(right<s.length){
        while(visited[s[right].charCodeAt(0)-'a'.charCodeAt(0)]===true){
            visited[s[left].charCodeAt(0)-'a'.charCodeAt(0)]=false
            left++
        }
        visited[s[right].charCodeAt(0)-'a'.charCodeAt(0)]=true
        result=Math.max(result,(right-left+1))
        right++
    }
    return result
}

var lengthOfLongestSubstring=function(s){
    const n=s.length
    let result=0
    const lastIndex=new Array(26).fill(-1)
    let start=0
    for(let end=0;end<s.length;end++){
        start=Math.max(start,lastIndex[s.charCodeAt(end)-'a'.charCodeAt(0)]+1)
        result=Math.max(result,end-start+1)
        lastIndex[s.charCodeAt(end)-'a'.charCodeAt(0)]=end
    }
    return result
}

var lengthOfLongestSubstring=function(s){
    let result=0
    for(let i=0;i<s.length;i++){
        let charSet=new Set()
        for(let j=i;j<s.length;j++){
            if(charSet.has(s[j])){
                break
            }
            charSet.add(s[j])
        }
        result=Math.max(result,charSet.size)
    }
    return result
}

console.log(lengthOfLongestSubstring("geeksforgeeks"))
